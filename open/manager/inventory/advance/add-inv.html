<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <form id="all">
        <div id="localModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        hd
                    </div>
                </div>
                <div class="modal-body">
                    bd
                </div>
                <div class="modal-footer">
                    ft
                </div>
            </div>
        </div>


        <div class="modal-dialog modal-sm modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="customModalHeader">Thêm kho mới</h4>
                </div>
                <div class="modal-body" style="height:480px; overflow: auto;">
                    <!--tab-->
                    <div>
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" id="myTab">
                            <li class="active"><a href="#tabChung" data-toggle="tab">Chung</a></li>
                            <li><a href="#hachToan" data-toggle="tab">Hạch toán</a></li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">
                            <!--tab thong tin tong quan-->
                            <div class="tab-pane active" id="tabChung">
                                <div class="row" role="form">
                                    <div class="form-group col-md-2">
                                        <label for="txtMaKho">Mã kho</label>
                                        <input type="text" class="form-control input-sm" id="txtMaKho" placeholder="Nhập mã kho" data-toggle="tooltip" data-placement="top" title="Tooltip on top" />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="txtMaVach">Mã vạch</label>
                                        <input type="text" class="form-control input-sm" id="txtMaVach" placeholder="Nhập mã vạch" />
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="ddlTrangThaiKho">Trạng thái</label>
                                        <select id="ddlTrangThaiKho" class="form-control input-sm">
                                            <option>Khả dụng</option>
                                            <option>Không khả dụng</option>
                                        </select>

                                    </div>
                                </div>
                                <div class="row" role="form">
                                    <div class="form-group col-md-4">
                                        <label for="txtTenKho">Tên kho</label>
                                        <input type="text" class="form-control input-sm" id="txtTenKho" placeholder="Nhập tên kho" />
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="txtTenTiengAnh">Tên 2</label>
                                        <input type="text" class="form-control input-sm" id="txtTenTiengAnh" placeholder="Nhập tên tiếng Anh" />
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="ddlNhomKho">Nhóm kho</label>
                                        <select id="ddlNhomKho" class="form-control input-sm"></select>
                                    </div>
                                </div>
                            </div>

                            <!--tab danh sach tai khoan hach toan tu dong-->
                            <div class="tab-pane" id="hachToan">
                                <p>Danh sách tài khoản</p>
                                <div id="lstAccount"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Quay lại</button>
                    <button id="btnLuu" type="button" class="btn btn-primary" data-loading-text="Đang lưu...">Lưu</button>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function () {
                $('#btnLuu').click(function () {
                    var btn = $(this);
                    btn.button('loading');
                    displayAnAlert('alert-success', 0, "Tạo kho thành công");
                    //call ajax
                    //$('#btnLuu').button('reset');
                });

                //display tab 'hach toan'
                showWating();

                $('#lstAccount table').addClass('table');
                $('#lstAccount table').addClass('table-striped');

                var $container = $("#lstAccount");
                $container.handsontable({
                    startRows: 8,
                    startCols: 6,
                    colWidths: [350, 150],
                    rowHeaders: false,
                    colHeaders: ['Loại tài khoản', 'Tài khoản chỉ định'],
                    columns: [
                        {
                            data: "Funtion",
                            readOnly: true
                        },
                      {
                          data: "AccountCode",
                          type: 'dropdown',
                          source: ["111", "112", "113", "156", "911"]
                      }
                    ],
                    minSpareRows: 0
                });

                var handsontable = $container.data('handsontable');
                $.ajax({
                    url: '/response/test.json',
                    type: 'GET',
                    dataType: "json",
                    success: function (results) {
                        handsontable.loadData(results.data);
                        hideWating();
                    },
                    error: function (a) {
                        hideWating();
                        displayAnAlert('alert-danger', 0, UNABLE_ACCESS);
                        hideWating();
                    }
                });
                //$container.handsontable('render');
                
            });
        </script>
    </form>
</body>
</html>
